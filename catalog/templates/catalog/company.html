{% extends "base.html" %}
{% load static %}
{% block content %}
    <section class="section_img_com">
        <h1 class="h1_img_com">О компании</h1>
        <img class="img_com" src="https://www.prim-autodealer.ru/static/img/about_re.webp" alt="">
    </section>
    <section class="section_com_info">
        <div class="container2 container_com_info">
            <h1 class="h1_info_com">Помогаем купить авто из Японии, Китая и Южной Кореи</h1>
            <p class="p_info_com">Уже более 8 лет команда компании «Прим Автодилер» успешно помогает клиентам выбирать, покупать и доставлять автомобили из Японии, Южной Кореи и Китая. Мы обладаем огромным опытом и знаем все тонкости автомобильного рынка этих стран. Каждый этап покупки автомобиля - от выбора авто до оформления в России - мы делаем максимально простым и удобным для Вас. Наши специалисты всегда готовы помочь и ответить на все возникающие вопросы.
            </p>
            <!-- <p class="p_info_com">Каждый этап покупки автомобиля - от выбора авто до оформления в России - мы делаем максимально простым и удобным для Вас. Наши специалисты всегда готовы помочь и ответить на все возникающие вопросы.
            </p> -->
            <p class="p_info_com">Выбирая нашу компанию, вы можете быть уверены в прозрачности и честности всех этапов сделки. Мы предоставляем гарантии и делаем все возможное, чтобы вы чувствовали уверенность и надежность в нашем сотрудничестве.
            </p>
            <p class="p_info_com">
                Наша команда экспертов всегда готова помочь выбрать идеальный автомобиль, который будет соответствовать всем вашим пожеланиям и предпочтениям.
            </p>
        </div>
    </section>
    <section id="section-prem" class="section-prem">
        <div class="container2 container-prem">
            <div class="Scheme">
                <h1 class="h1_scheme h1-zag">Как купить автомобиль?</h1>
                <ul class="scheme_list">
                    <li class="scheme_list_item">

                            <img class="scheme_list_item_img color-fill" src="{% static 'img/phone.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Свяжитесь с нами</h3>
                            <p class="scheme_list_item_p">Менеджер согласует критерии по автомобилю и сообщит стоимость</p>
                        </div>
                    </li>
                    <li class="scheme_list_item">

                        <img class="scheme_list_item_img color-fill" src="{% static 'img/dogovor.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Заключить договор</h3>
                            <p class="scheme_list_item_p">Лично в офисе или по эл. почте <br><a href="https://www.prim-autodealer.ru/static/file/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D0%B0_%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B8_%D0%98%D0%9F.pdf" download="" class="prem-dog">скачать договор</a></p>
                        </div>
                    </li>
                    <li class="scheme_list_item">

                        <img class="scheme_list_item_img color-fill" src="{% static 'img/buy.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Подбор и покупка</h3>

                                <p class="scheme_list_item_p">Согласовываем каждый вариант, проводим бесплатные осмотры автомобилей </p>

                        </div>
                    </li>
                    <li class="scheme_list_item">

                        <img class="scheme_list_item_img color-fill" src="{% static 'img/export.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Доставка</h3>

                            <p class="scheme_list_item_p">Грузим на судно и отправляем в пункт назначения</p>

                        </div>
                    </li>
                    <li class="scheme_list_item">

                        <img class="scheme_list_item_img color-fill" src="{% static 'img/tamozna.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Растаможка</h3>

                                <p class="scheme_list_item_p">По прибытию в РФ авто проходит таможенное оформление</p>

                        </div>
                    </li>
                    <li class="scheme_list_item">

                        <img class="scheme_list_item_img color-fill" src="{% static 'img/export.png' %}" alt="">

                        <div class="scheme-info">
                            <h3 class="scheme_list_item_h3">Выдача/отправка</h3>
                            <p class="scheme_list_item_p">Доставим в ваш город или выдадим с нашей площадки</p>
                        </div>
                    </li>
                </ul>
            </div>
            <div id="section-prem-excellence" class="excellence">
                <h1 class="h1_excellence h1-zag">Наши преимущества</h1>
                <div class="excellence_item_div">
                    <div class="excellence_item_div_line">
                        <div class="excellence_item_div_line_pol">

                            <img src="{% static 'img/bonus.png' %}" class="excellence_item_div_img color-fill" alt="">

                            <div class="excellence_item_div_line_pol_info">
                                <h3 class="excellence_item_div_h3">Бонус</h3>
                                <p class="excellence_item_div_p">Месяц бесплатной стоянки в России</p>
                            </div>
                        </div>
                        <div class="excellence_item_div_line_pol">

                            <img src="{% static 'img/medal.png' %}" class="excellence_item_div_img color-fill" alt="">

                            <div class="excellence_item_div_line_pol_info">
                                <h3 class="excellence_item_div_h3">Лучший опыт покупки</h3>
                                <p class="excellence_item_div_p">Максимальный уровень комфорта, безопасности и практичности</p>
                            </div>
                        </div>
                    </div>
                    <div class="excellence_item_div_line">
                        <div class="excellence_item_div_center">

                            <img src="{% static 'img/r.png' %}" class="excellence_item_div_center_img color-fill" alt="">

                            <div class="excellence_item_div_line_pol_info">
                                <h3 class="excellence_item_div_center_h3">Возвратный взнос</h3>
                                <p class="excellence_item_div_center_p">Возвращаем 100 % взноса если автомобиль не был найден</p>
                            </div>
                            <button onclick="toggleClassById('popup', 'active');" class="btn excellence_item_div_center_btn open_popup">Консультация</button>
                        </div>
                    </div>
                    <div class="excellence_item_div_line">
                        <div class="excellence_item_div_line_pol">

                            <img src="{% static 'img/safe.png' %}" class="excellence_item_div_img color-fill" alt="">

                            <div class="excellence_item_div_line_pol_info">
                                <h3 class="excellence_item_div_h3">Страхование рисков</h3>
                                <p class="excellence_item_div_p">Наши автомобили имеют страховку на всех этапах сделки</p>
                            </div>
                        </div>
                        <div class="excellence_item_div_line_pol">

                            <img src="{% static 'img/calendar.png' %}" class="excellence_item_div_img color-fill" alt="">

                            <div class="excellence_item_div_line_pol_info">
                                <h3 class="excellence_item_div_h3">Отлаженная логистика</h3>
                                <p class="excellence_item_div_p">Доставка автомобилей в любую точку РФ в короткие сроки</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <script>
function fillImagesWithColor(imageClass, fillColor) {
    const images = document.querySelectorAll(`.${imageClass}`);

    images.forEach(img => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        // Создаем новое изображение с поддержкой CORS
        const newImg = new Image();
        newImg.crossOrigin = "anonymous"; // Включаем CORS
        newImg.src = img.src;

        newImg.onload = () => {
            canvas.width = newImg.width;
            canvas.height = newImg.height;
            ctx.drawImage(newImg, 0, 0);

            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;

            const rgb = hexToRgb(fillColor);

            for (let i = 0; i < data.length; i += 4) {
                if (data[i + 3] > 0) {
                    data[i] = rgb.r;
                    data[i + 1] = rgb.g;
                    data[i + 2] = rgb.b;
                }
            }

            ctx.putImageData(imageData, 0, 0);
            img.src = canvas.toDataURL();
        };

        newImg.onerror = () => {
            console.error("Ошибка загрузки изображения:", img.src);
        };
    });
}

function hexToRgb(hex) {
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
    } : null;
}

            fillImagesWithColor('color-fill', '#61722e');
        // Запускаем функцию после загрузки страницы
        window.onload = function() {
            fillImagesWithColor('color-fill', '#61722e'); // Заливка цветом #3498db (синий)
        };
    </script>
{% endblock %}